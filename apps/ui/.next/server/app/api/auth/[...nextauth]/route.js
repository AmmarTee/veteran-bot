"use strict";(()=>{var e={};e.id=912,e.ids=[912],e.modules={2934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},7790:e=>{e.exports=require("assert")},8893:e=>{e.exports=require("buffer")},4770:e=>{e.exports=require("crypto")},7702:e=>{e.exports=require("events")},2615:e=>{e.exports=require("http")},8791:e=>{e.exports=require("https")},6624:e=>{e.exports=require("querystring")},7360:e=>{e.exports=require("url")},1764:e=>{e.exports=require("util")},1568:e=>{e.exports=require("zlib")},6232:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>d,patchFetch:()=>D,requestAsyncStorage:()=>p,routeModule:()=>u,serverHooks:()=>l,staticGenerationAsyncStorage:()=>c});var s={};t.r(s),t.d(s,{GET:()=>a.qi,POST:()=>a.qi});var o=t(9303),n=t(8716),i=t(670),a=t(805);let u=new o.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/auth/[...nextauth]/route",pathname:"/api/auth/[...nextauth]",filename:"route",bundlePath:"app/api/auth/[...nextauth]/route"},resolvedPagePath:"E:\\Personal-Projects\\Discord-bot\\VetranBot\\apps\\ui\\app\\api\\auth\\[...nextauth]\\route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:p,staticGenerationAsyncStorage:c,serverHooks:l}=u,d="/api/auth/[...nextauth]/route";function D(){return(0,i.patchFetch)({serverHooks:l,staticGenerationAsyncStorage:c})}},805:(e,r,t)=>{t.d(r,{Lz:()=>a,qi:()=>u});var s=t(5571),o=t.n(s);async function n(e){let r=await fetch(`https://discord.com/api/guilds/${e.guildId}/members/${e.userId}`,{headers:{Authorization:`Bot ${e.botToken}`}});if(404===r.status)return null;if(!r.ok)throw Error(`Discord API error ${r.status}`);return await r.json()}function i(e){return(e||"").split(",").map(e=>e.trim()).filter(Boolean)}let a={providers:[(0,t(9475).Z)({clientId:process.env.DISCORD_CLIENT_ID,clientSecret:process.env.DISCORD_CLIENT_SECRET,authorization:{params:{scope:"identify guilds"}}})],callbacks:{async signIn({user:e}){try{let r=process.env.GUILD_ID,t=process.env.DISCORD_TOKEN;if(!r||!t)return!1;return!!await n({userId:e.id,guildId:r,botToken:t})}catch{return!1}},async session({session:e,token:r}){let t=process.env.GUILD_ID,s=process.env.DISCORD_TOKEN;if(t&&s&&r?.sub)try{let o=await n({userId:r.sub,guildId:t,botToken:s}),a=function(e){let r=i(process.env.DISCORD_SUPERADMIN_ROLE_IDS),t=i(process.env.DISCORD_ADMIN_ROLE_IDS),s=i(process.env.DISCORD_OPERATOR_ROLE_IDS),o=i(process.env.DISCORD_SUPPORT_ROLE_IDS),n=i(process.env.DISCORD_AUDITOR_ROLE_IDS);return e.some(e=>r.includes(e))?"SUPERADMIN":e.some(e=>t.includes(e))?"ADMIN":e.some(e=>s.includes(e))?"OPERATOR":e.some(e=>o.includes(e))?"SUPPORT":e.some(e=>n.includes(e))?"AUDITOR":null}(o?.roles??[]);e.appRole=a,e.roles=o?.roles??[]}catch{}return e}},session:{strategy:"jwt"},secret:process.env.NEXTAUTH_SECRET},{handlers:u,auth:p,signIn:c,signOut:l}=o()(a)},9303:(e,r,t)=>{e.exports=t(517)}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[276,639],()=>t(6232));module.exports=s})();